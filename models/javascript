// Middleware para validar os dados da denúncia
function validarDenuncia(req, res, next) {
    const { id, descricao, especie, data, local } = req.body;

    // Verifica se todos os campos obrigatórios foram preenchidos
    if (!id || !descricao || !especie || !data || !local) {
        return res.status(400).json({
            erro: "Todos os campos obrigatórios devem ser preenchidos: id, descricao, especie, data e local."
        });
    }

    // Verifica se a data é válida
    if (isNaN(Date.parse(data))) {
        return res.status(400).json({
            erro: "Data inválida. Use o formato YYYY-MM-DD ou equivalente."
        });
    }

    // Se tudo estiver correto, segue para a próxima função
    next();
}

module.exports = { validarDenuncia };
